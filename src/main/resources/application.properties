# ===================================================================
# CONFIGURAÇÃO DA CONEXÃO COM O BANCO DE DADOS (POSTGRESQL)
# ===================================================================
# URL de conexão para o PostgreSQL. Altere o host (localhost) e o nome do banco (bellory_db) se necessário.
spring.datasource.url=jdbc:postgresql://localhost:5432/postgres
spring.datasource.username=postgres
spring.datasource.password=root
# A propriedade 'driver-class-name' não é mais necessária. O Spring Boot detecta o driver do PostgreSQL automaticamente.

# ===================================================================
# CONFIGURAÇÃO DO POOL DE CONEXÕES (HIKARI CP)
# ===================================================================
# Define o tamanho máximo do pool de conexões.
# O valor foi ajustado para 20, que é mais seguro e eficiente para a maioria das aplicações
# do que o valor anterior de 100, evitando esgotar as conexões do banco.
spring.datasource.hikari.maximum-pool-size=20

# ===================================================================
# CONFIGURAÇÃO DO JPA E HIBERNATE
# ===================================================================
# Exibe o SQL gerado pelo Hibernate no console. Ótimo para debug em ambiente de desenvolvimento.
spring.jpa.properties.hibernate.show_sql=true
# Formata o SQL exibido para facilitar a leitura.
spring.jpa.properties.hibernate.format_sql=true
# Define o dialeto específico do PostgreSQL. Ajuda o Hibernate a gerar o SQL mais otimizado.
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# IMPORTANTE: Gerenciamento do schema do banco de dados (DDL - Data Definition Language)
# 'update': O Hibernate tenta atualizar o schema do banco com base nas suas entidades.
#           Use apenas em desenvolvimento. NUNCA em produção, pois pode levar à perda de dados.
# 'validate': Em produção, use 'validate' para verificar se o schema do banco corresponde às entidades.
# 'none': Desabilita o gerenciamento automático. É a opção mais segura para produção.
# RECOMENDAÇÃO PARA PRODUÇÃO: Use uma ferramenta de migration como Flyway ou Liquibase.
spring.jpa.hibernate.ddl-auto=create-drop


# ===================================================================
# CONFIGURAÇÃO DE SEGURANÇA (OAUTH2 RESOURCE SERVER COM JWT)
# ===================================================================
# As propriedades antigas 'security.oauth2.*' e 'security.jwt.signing-key' foram removidas, pois são obsoletas.
# A seguir está a forma moderna de configurar a validação de um token JWT usando uma chave simétrica.

# Esta é a nova propriedade para definir a chave secreta usada para assinar e validar os tokens JWT.
# O valor deve ser a sua chave secreta original, não em Base64, e com pelo menos 256 bits (32 bytes) para ser segura.
# O valor "Bianca meu melhor amor" (sua chave antiga decodificada) é inseguro.
# Use um gerador de chaves seguras para criar uma nova chave para produção.
security.jwt.signing-key=b968dd5d61d08414bce019ab28d188074a0ff71c0c12271e5fcd24b0a830939a

# Se você estivesse validando tokens de um provedor de identidade externo (como Keycloak, Auth0, etc.),
# você usaria a propriedade abaixo em vez da 'secret-key'.
# spring.security.oauth2.resourceserver.jwt.issuer-uri=http://seu-provedor-de-identidade/auth/realms/seu-realm

